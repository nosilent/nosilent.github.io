{"version":3,"sources":["common/Header/index.jsx","common/Menu/index.jsx","common/Main/index.jsx","common/404/index.jsx","App.js","index.js"],"names":["withRouter","tabs","history","match","useState","active","setActive","useEffect","params","name","selectedKeys","mode","className","triggerSubMenuAction","onClick","item","key","keyPath","domEvent","push","map","Array","isArray","children","node","SubMenu","popupOffset","title","text","Item","icon","dangerouslySetInnerHTML","__html","url","Menu","props","menu","list","n","renderer","heading","level","data-a","table","header","body","tablerow","content","tablecell","flag","type","paragraph","marked","use","Main","setContent","contentNodes","useRef","axios","get","location","pathname","then","res","initLocation","data","setMenu","prism","highlightAll","catch","err","ref","CommonErr","App","setTabs","config","setConfig","rMenu","rContent","current","scrollTop","navData","e","target","tagName","defaultprevent","dataset","a","querySelector","offsetTop","exact","path","docs","render","component","Err404","from","to","index","ReactDOM","document","getElementById"],"mappings":"6LAkCeA,mBA9Bf,YAAwC,IAAtBC,EAAqB,EAArBA,KAAKC,EAAgB,EAAhBA,QAAQC,EAAQ,EAARA,MAAQ,EACVC,mBAAS,IADC,mBAC9BC,EAD8B,KACvBC,EADuB,KAkBrC,OAJAC,qBAAU,WACRD,EAAUH,EAAMK,OAAOC,QACvB,IAGA,mBAAMC,aAAc,CAACL,GAASM,KAAK,aAAaC,UAAU,WAAWC,qBAAqB,QAAQC,QAVhF,SAAC,GAAmC,EAAjCC,KAAkC,IAA5BC,EAA2B,EAA3BA,IAA2B,EAAtBC,QAAsB,EAAbC,SACzChB,EAAQiB,KAAR,WAAiBH,IACjBV,EAAUU,IAQV,SAEIf,EAAKmB,KAAK,SAAAL,GAAI,OAAIM,MAAMC,QAAQP,EAAKQ,WAlB3BC,EAmBET,EAlBhB,kBAAMU,QAAN,CAAeC,YAAa,EAAE,GAAG,GAAIC,MAAO,iCAAQH,EAAKI,KAAb,IAAoB,mBAAGhB,UAAU,wBAAjC,OAA5C,SACIY,EAAKD,SAASH,KAAI,SAAAL,GAAI,OAAI,mBAAMc,KAAN,eAA+Bd,EAAKe,MAAQ,qBAAKlB,UAAU,OAAOmB,wBAAyB,CAACC,OAAO,0BAAD,OAA2BjB,EAAKe,KAAhC,eAAlG,KAA+Jf,EAAKa,KAApK,MAAiBb,EAAKkB,SADkET,EAAKI,OAmBlH,mBAAMC,KAAN,eAA+Bd,EAAKe,MAAQ,qBAAKlB,UAAU,OAAOmB,wBAAyB,CAACC,OAAO,0BAAD,OAA2BjB,EAAKe,KAAhC,eAAlG,KAA+Jf,EAAKa,KAApK,MAAiBb,EAAKkB,KApBjB,IAAAT,UCEHU,MARf,SAAcC,GACZ,OACE,mCACIA,EAAMC,Q,mDCAVC,G,4IAAO,IACPC,EAAI,EACFC,EAAW,CAChBC,QADgB,SACRZ,EAAMa,GAGX,OAFFH,IACAD,EAAKlB,KAAK,mBAAGP,UAAS,WAAM6B,GAAiBC,SAAA,WAAYJ,GAAKP,wBAAyB,CAACC,OAAQJ,IAAtDU,IAClC,mBAAN,OACYG,EADZ,mCAC4CH,EAD5C,6BAEYV,EAFZ,4BAGaa,EAHb,MAKHE,MATgB,SASVC,EAAQC,GACb,MAAM,gSAAN,OAMSD,EANT,0GASSC,EATT,2HAiBDC,SA3BgB,SA2BPC,GACR,MAAM,mDAAN,OAA0DA,EAA1D,UAEDC,UA9BgB,SA8BND,EAAQE,GACjB,IAAIC,EAAOD,EAAKL,OAAS,KAAM,KAC/B,MAAM,IAAN,OAAWM,EAAX,mCAA0CH,EAA1C,aAAsDG,EAAtD,MAEDC,UAlCgB,SAkCNJ,GACT,MAAM,6BAAN,OAAoCA,EAApC,UAGFK,IAAOC,IAAI,CAAEd,aAwBEe,MAtBf,SAAcnB,GAAO,IAAD,EACU/B,mBAAS,IADnB,mBACZ2C,EADY,KACJQ,EADI,KAEbC,EAAeC,mBACftD,EAAUgC,EAAVhC,MAgBN,OAfAI,qBAAU,WACTmD,IAAMC,IAAN,UAAaxB,EAAMyB,SAASC,SAA5B,QAA2CC,MAAK,SAAAC,GAC/C1B,EAAO,GACPC,EAAI,EACJH,EAAM6B,eACN,IAAIjB,EAAUK,IAAOW,EAAIE,MACzBV,EAAWR,GACXZ,EAAM+B,QAAQ7B,GACd8B,IAAMC,kBACJC,OAAM,SAAAC,GACRnC,EAAM+B,QAAQ,IACd/B,EAAMjC,QAAQiB,KAAK,aAEnB,CAAChB,EAAMK,OAAOC,OAER,qBAAKsB,wBAAyB,CAACC,OAAQe,GAAUnC,UAAU,OAAO2D,IAAKf,KC3DjEgB,MALf,WACI,OAAO,+FC0DIC,MAlDf,WAAgB,IAAD,EACUrE,mBAAS,IADnB,mBACNH,EADM,KACDyE,EADC,OAEctE,mBAAS,MAFvB,mBAENuE,EAFM,KAECC,EAFD,OAGUxE,mBAAS,IAHnB,mBAGNgC,EAHM,KAGD8B,EAHC,KAKPW,EAAQpB,mBACRqB,EAAWrB,mBACXO,EAAe,WACnBa,EAAME,QAAQC,UAAY,EAC1BF,EAASC,QAAQC,UAAY,GAkB/B,OANAzE,qBAAU,WACRmD,IAAMC,IAAI,gBAAgBG,MAAK,SAAAC,GAC7BW,EAAQX,EAAIE,KAAKgB,SAAS,IAC1BL,EAAUb,EAAIE,MAAM,SAEtB,IAEA,sBAAKrD,UAAU,MAAf,UACE,cAAC,EAAD,CAAQX,KAAOA,IACf,sBAAKW,UAAU,OAAf,UACE,qBAAKA,UAAU,OAAO2D,IAAKM,EAAO/D,QApBzB,SAAAoE,GAIb,GAHwB,MAArBA,EAAEC,OAAOC,SACVF,EAAEC,OAAOE,iBAEa,MAArBH,EAAEC,OAAOC,QAAgB,CAC1B,IAAInC,EAAOiC,EAAEC,OAAOG,QAAQC,EACxBR,EAAUD,EAASC,QAAQS,cAAjB,WAAmCvC,IACjD6B,EAASC,QAAQC,UAAYD,EAAQU,UAAY,KAa/C,SACE,cAAC,EAAD,CAAMrD,KAAMA,MAEd,qBAAKxB,UAAU,UAAU2D,IAAKO,EAA9B,SAEIH,GAEA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOe,OAAK,EAACC,KAAI,WAAMhB,EAAOiB,KAAb,UAA2BC,OAAS,SAAA1D,GAAK,OAAE,cAAC,EAAD,2BAAWA,GAAX,IAAkB+B,QAASA,EAASF,aAAcA,QAC9G,cAAC,IAAD,CAAO2B,KAAK,OAAOG,UAAYC,IAC/B,cAAC,IAAD,CAAUC,KAAK,IAAIC,GAAE,WAAOtB,EAAOiB,KAAd,YAAsBjB,EAAOuB,qB,QC7ChEC,IAASN,OACP,cAAC,IAAD,UACE,cAAC,EAAD,MAEFO,SAASC,eAAe,U","file":"static/js/main.5665e958.chunk.js","sourcesContent":["import  { Menu  } from 'antd'\r\nimport { withRouter  } from 'react-router-dom'\r\nimport { useState, useEffect } from 'react'\r\n\r\nfunction Header({ tabs,history,match }){\r\n  const [active,setActive] = useState('')\r\n\r\n  const subMenu = node =>(\r\n    <Menu.SubMenu  popupOffset={[-50,0]} title={<span>{ node.text } <i className='iconfont icon-xiala'></i> </span>} key={node.text}>\r\n      { node.children.map(item => <Menu.Item key={ item.url }> { item.icon && <svg className=\"icon\" dangerouslySetInnerHTML={{__html:`<use xlink:href=\"#icon-${item.icon}\"></use>`}}></svg> }  { item.text } </Menu.Item>)}\r\n    </Menu.SubMenu>\r\n  )\r\n\r\n  const onItemClick = ({ item, key, keyPath, domEvent })=>{\r\n    history.push(`/${key}`)\r\n    setActive(key)\r\n  }\r\n\r\n  useEffect(()=>{\r\n    setActive(match.params.name)\r\n  },[])\r\n\r\n  return (\r\n    <Menu selectedKeys={[active]} mode=\"horizontal\" className='tc fixed' triggerSubMenuAction='click' onClick={onItemClick}>\r\n      { \r\n        tabs.map( item => Array.isArray(item.children)\r\n          ? subMenu(item)\r\n          : (<Menu.Item key={ item.url }> { item.icon && <svg className=\"icon\" dangerouslySetInnerHTML={{__html:`<use xlink:href=\"#icon-${item.icon}\"></use>`}}></svg> }  { item.text } </Menu.Item>)\r\n        ) \r\n      }\r\n    </Menu>\r\n  )\r\n}\r\n\r\nexport default withRouter(Header)","\r\nfunction Menu(props){\r\n  return (\r\n    <>\r\n      { props.menu }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Menu","import axios from 'axios'\r\nimport { useEffect,useState,useRef } from 'react'\r\nimport marked from 'marked'\r\nimport prism from 'prismjs'\r\nlet list = []\r\nlet n = 0\r\nconst renderer = {\r\n\theading(text, level) {\r\n\t\tn++\r\n\t\tlist.push(<p className={`h${level}`} key={n} data-a={`a${n}`} dangerouslySetInnerHTML={{__html: text}}></p>)\r\n    return `\r\n            <h${level} class='ant-typography a${n}'>\r\n              ${text}\r\n            </h${level}>`\r\n\t},\r\n\ttable(header, body){\r\n\t\treturn `<div class='ant-table-wrapper'>\r\n\t\t\t\t<div class='ant-table mb20'>\r\n\t\t\t\t\t<div class=\"ant-table-container\">\r\n\t\t\t\t\t\t<div class=\"ant-table-content\">\r\n\t\t\t\t\t\t\t<table style='table-layout: auto;'>\r\n\t\t\t\t\t\t\t\t<thead class=\"ant-table-thead\">\r\n\t\t\t\t\t\t\t\t\t${header}\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody class=\"ant-table-tbody\">\r\n\t\t\t\t\t\t\t\t\t${body}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>`\r\n\t},\r\n\ttablerow(content){\r\n\t\treturn `<tr class=\"ant-table-row ant-table-row-level-0\">${content}</tr>`\r\n\t},\r\n\ttablecell(content,flag){\r\n\t\tlet type = flag.header ? 'th': 'td'\r\n\t\treturn `<${type} class='ant-table-cell'>${content}</${type}>`\r\n\t},\r\n\tparagraph(content){\r\n\t\treturn `<p class='ant-typography'>${content}</p>`\r\n\t}\r\n}\r\nmarked.use({ renderer })\r\n\r\nfunction Main(props){\r\n\tconst [content,setContent] = useState('')\r\n\tconst contentNodes = useRef()\r\n\tlet { match } = props\r\n\tuseEffect(()=>{\r\n\t\taxios.get(`${props.location.pathname}.md`).then(res=>{\r\n\t\t\tlist = []\r\n\t\t\tn = 0\r\n\t\t\tprops.initLocation()\r\n\t\t\tlet content = marked(res.data)\r\n\t\t\tsetContent(content)\r\n\t\t\tprops.setMenu(list)\r\n\t\t\tprism.highlightAll()\r\n\t\t}).catch(err=>{\r\n\t\t\tprops.setMenu([])\r\n\t\t\tprops.history.push('/404')\r\n\t\t})\r\n\t},[match.params.name])\r\n\t\r\n\treturn  <div dangerouslySetInnerHTML={{__html: content}} className='text' ref={contentNodes}></div>\r\n}\r\n\r\nexport default Main","\r\nfunction CommonErr(){\r\n    return <>\r\n        你访问的页面不存在\r\n    </>\r\n}\r\nexport default CommonErr","import './App.css'\nimport './assets/common.css'\nimport Header from './common/Header'\nimport Menu from './common/Menu'\nimport Main from './common/Main'\nimport Err404 from './common/404'\nimport axios from 'axios'\nimport { Route, Switch, Redirect } from 'react-router-dom'\nimport { useState,useEffect, useRef } from 'react'\n\nfunction App() {\n  const [tabs,setTabs] = useState([])\n  const [config,setConfig] = useState(null)\n  const [menu,setMenu] = useState([])\n\n  const rMenu = useRef()\n  const rContent = useRef()\n  const initLocation = ()=>{\n    rMenu.current.scrollTop = 0\n    rContent.current.scrollTop = 0\n  }\n  const menuTo = e =>{\n    if(e.target.tagName === 'A'){\n      e.target.defaultprevent()\n    }\n    if(e.target.tagName === 'P'){\n      let flag = e.target.dataset.a\n      let current = rContent.current.querySelector(`.${flag}`)\n      rContent.current.scrollTop = current.offsetTop - 48\n    }\n  }\n  useEffect(()=>{\n    axios.get('/config.json').then(res =>{\n      setTabs(res.data.navData||[])\n      setConfig(res.data||{})\n    } )\n  },[])\n  return (\n    <div className='app'>\n      <Header tabs={ tabs }></Header>\n      <div className='main'>\n        <div className='menu' ref={rMenu} onClick={menuTo}>\n          <Menu menu={menu}></Menu>\n        </div>\n        <div className='content' ref={rContent}>\n          {\n            config\n            && \n            <Switch>\n              <Route exact path={`/${config.docs}/:name`} render={ props=><Main  {...props} setMenu={setMenu} initLocation={initLocation} /> }></Route>\n              <Route path='/404' component={ Err404 }></Route>\n              <Redirect from='/' to={ `/${config.docs}/${config.index}` }></Redirect>\n            </Switch>\n          }\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nimport { HashRouter as Router } from 'react-router-dom'\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n)"],"sourceRoot":""}