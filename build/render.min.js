"use strict";!function(){var c,o,e,n=document.createDocumentFragment(),t=document.querySelector("div.navbar-nav"),a=document.querySelector(".to_top"),r=document.querySelector(".content"),s=document.querySelector(".list-group"),i=document.querySelector("#nav"),l=document.querySelector(".loading"),d=document.querySelector(".edit_time"),u=document.querySelector("footer"),m="list-group-item-action list-group-item py-1",h="table table-striped table-sm  table-bordered",p="";function g(e){c.classList.remove("active");var t=c.getAttribute("href").slice(1);utils.keep_state.keep(t,document.documentElement.scrollTop),(c=e.target).classList.add("active");var n=c.getAttribute("href").slice(1);i.classList.contains("show")&&i.classList.remove("show"),f(n)}function f(c){l.style.display="block",u.hidden=!0,utils.Ajax("".concat(c,".md")).then(function(e){if("error"===e)return d.hidden=!0,u.hidden=!0,void(r.innerHTML="请求内容不存在");d.hidden=!1,p="";var t=marked(e,{renderer:function(){var e=new marked.Renderer;return e.heading=function(e,t,n,c){var o=c.slug("h".concat(t));return t<=3&&(p+=3==t?'<a href="#'.concat(o,'" class="').concat(m,' pl-4">').concat(e,"</>"):'<a href="#'.concat(o,'" class="').concat(m,' pl-2">').concat(e,"</>")),"\n            <h".concat(t,' id="').concat(o,'">\n            ').concat(e,"\n            </h").concat(t,">")},e.table=function(e,t){return t=t&&"<tbody>"+t+"</tbody>",'<table class="'.concat(h,'">\n')+"<thead>\n"+e+"</thead>\n"+t+"</table>\n"},e.tablecell=function(e,t){var n=t.header?"th":"td";return"<".concat(n,"th"==n?' scope="col">':">")+e+"</"+n+">\n"},e}()});!function(e){var t=e.match(/\@Date\:\s+(\S+)\s*.+\n\s*\S*\s*\@LastEditTime\:\s*(\S+)/);if(t.length<3)return;d.innerHTML="更新时间 : ".concat(t[2],"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;创建时间 : ").concat(t[1])}(t),r.parentNode.hidden=!1,r.innerHTML=t;var n=utils.keep_state.get_scroll_state(c);window.scrollTo({top:n}),r.querySelectorAll("pre code").forEach(function(e){Prism.highlightElement(e)})}).then(function(e){s.innerHTML=p,l.style.display="none",u.hidden=!1})}function v(){window.scrollTo({top:0,behavior:"smooth"})}utils.Ajax("config.json").then(function(e){o=JSON.parse(e),Object.keys(o.navData).forEach(function(e){if(o.navData[e].show){var t=document.createElement("a");t.classList.add("nav-link"),t.setAttribute("href","#".concat(o.docs,"/").concat(e)),"".concat(o.docs,"/").concat(e)==o.index&&(c=t),t.textContent=e,n.appendChild(t)}}),c.classList.add("active"),t.append(n)}).then(function(e){f(o.index),function(){var e=document.querySelector(".music"),t=e.querySelector("audio"),n=e.querySelectorAll("span")[1],c=function(e){return Math.floor(Math.random()*e)}(o.music_list.length);t.src="music/".concat(o.music_list[c]),e.addEventListener("click",function(e){switch(e.target.innerHTML){case"play":!0===t.paused?(n.style.backgroundImage='url("images/play.svg")',t.play()):(n.style.backgroundImage='url("images/stop.svg")',t.pause());break;case"pre":--c<0&&(c=o.music_list.length-1),t.src="music/".concat(o.music_list[c]),n.style.backgroundImage='url("images/play.svg")',t.play();break;case"next":++c>=o.music_list.length&&(c=0),t.src="music/".concat(o.music_list[c]),n.style.backgroundImage='url("images/play.svg")',t.play();break;default:alert("err")}})}()}),t.addEventListener("click",g),e=document.documentElement.clientHeight,document.documentElement.scrollTop>e/2?a.hidden=!1:a.hidden=!0,window.addEventListener("scroll",function(){document.documentElement.scrollTop>e&&(a.hidden=!1),document.documentElement.scrollTop<e/2&&(a.hidden=!0)}),a.addEventListener("click",v)}();